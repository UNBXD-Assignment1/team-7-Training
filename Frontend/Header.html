<img src="teamLogo.png" alt="Team Logo"/>
<input type="search" id="search_val" placeholder="Search.." name="search" >
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="headerPage.css">
<button type="submit" onclick="searchFunction()" id="search_button" ><i class="fa fa-search"></i></button>
<br/>
<select name="cats1" id="cats1" onchange="categoryAPICall()" style="left: 0; ">
  <option value="">Select</option>
  <option value="New Arrivals">New Arrivals</option>
  <option value="Labels We Love">Labels We Love</option>
  <option value="Tops">Tops</option>
  <option value="Underwear & Lounge">Underwear & Lounge</option>
  <option value="Suiting">Suiting</option>
  <option value="Clearance Men">Clearance Men</option>
  <option value="Express x NBA">Express x NBA</option>
  <option value="Pants">Pants</option>
  <option value="Accessories & Shoes">Accessories & Shoes</option>
  <option value="Outerwear">Outerwear</option>
  <option value="Accessories">Accessories</option>
</select>

<select name="cats2" id="cats2" onchange="categoryAPICall()" style="left: 220; ">
    <option value="">Select</option>
    <option value="Clearance  Women">Clearance  Women</option>
    <option value="Tops">Tops</option>
    <option value="Jeans">Jeans</option>
    <option value="Labels We Love">Labels We Love</option>
    <option value="Jewelry">Jewelry</option>
    <option value="Accessories">Accessories</option>
    <option value="Dresses">Dresses</option>
    <option value="Petite Clothing">Petite Clothing</option>
    <option value="New Arrivals">New Arrivals</option>
    <option value="Work">Work</option>
    <option value="Jackets & Coats">Jackets & Coats</option>
    <option value="Bottoms">Bottoms</option>
    <option value="Sweaters & Cardigans">Sweaters & Cardigans</option>
    <option value="Accessories & Shoes">Accessories & Shoes</option>
    <option value="Labels We Love">Labels We Love</option>
  </select>

  <button type="button" class="exp-button " onclick="expAPIhandler()">EXP</button>

<script type="text/javascript">
  


	function categoryAPICall(){
    
		var cat1_value = document.getElementById("cats1").value;
    var cat2_value = document.getElementById("cats2").value;
    window.parent.location=`Base.html?cat1=${cat1_value}&cat2=${cat2_value}`;
		fetch('https://bf71dea9-0477-42c5-9aab-7893926a7fa5.mock.pstmn.io/testpost', {
			method: 'POST',
      mode : 'cors',
			headers: {
        'Access-Control-Allow-Origin':'*',
				'Accept': 'application/json',
				'Content-Type': 'application/json'
			},
			body: JSON.stringify({ "cat1" : cat1_value, "cat2" :  cat2_value})
		}).then(response => response.json()).then(response => console.log(JSON.stringify(response)))
	}


  function expAPIhandler(){
    
		var cat1_value="exp";
    var cat2_value="";
    window.parent.location=`Base.html?cat1=${cat1_value}&cat2=${cat2_value}`;
		fetch('https://bf71dea9-0477-42c5-9aab-7893926a7fa5.mock.pstmn.io/testpost', {
			method: 'POST',
      mode : 'cors',
			headers: {
        'Access-Control-Allow-Origin':'*',
				'Accept': 'application/json',
				'Content-Type': 'application/json'
			},
			body: JSON.stringify({ "cat1" : cat1_value, "cat2" :  cat2_value})
		}).then(response => response.json()).then(response => console.log(JSON.stringify(response)))
	}


  function searchFunction(){
    var search_val = document.getElementById("search_val").value;
    
    fetch('https://bf71dea9-0477-42c5-9aab-7893926a7fa5.mock.pstmn.io/testpost', {
			method: 'POST',
      mode : 'cors',
			headers: {
        'Access-Control-Allow-Origin':'*',
				'Accept': 'application/json',
				'Content-Type': 'application/json'
			},
			body: JSON.stringify({ "search_value" : search_val})
		}).then(response => response.json()).then(response => console.log(JSON.stringify(response)))
  }
</script>
 